# Railway Configuration for StudyBuddy AI Service
# https://docs.railway.app/deploy/config-as-code

[build]
  builder = "dockerfile"
  dockerfilePath = "Dockerfile"

[deploy]
  # Start command
  startCommand = "uvicorn app.main:app --host 0.0.0.0 --port $PORT"

  # Health check endpoint
  healthcheckPath = "/health"
  healthcheckTimeout = 100

  # Restart policy
  restartPolicyType = "on-failure"
  restartPolicyMaxRetries = 10

# Environment variables (set in Railway dashboard):
# - OPENAI_API_KEY
# - DATABASE_URL (from Railway PostgreSQL)
# - ENVIRONMENT=production
